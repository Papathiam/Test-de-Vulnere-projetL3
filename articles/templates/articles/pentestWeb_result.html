{% extends 'base.html' %}
{% block body %}
<Scénario  src = " https://cdnjs.cloudflare.com/ajax/libs/jspdf/1.4.1/jspdf.debug.js "  intégrité = " SHA384-THVO / sM0mFD9h7dfSndI6TS0PgAGavwKvB5hAxRRvc0o9cPLohB0wb / PTA7LdUHs "  crossorigin = " anonyme " > </script>
<script  src = "https://unpkg.com/jspdf@latest/dist/jspdf.min.js"> </script>
    <div class="row" id="row">
    
    <h6 class="text-center">Les hôtes actifs du réseau {{target}} :</h6>
    <div class="container resultat">
          {% if erreur%}
            <p style="color: blue !important;">{{erreur}}</p>
          {% else %}
              {% if resultat %}
<a href="javascript: gen_pdf()" class="btn btn-default" style="float: right;">Imprimer !!</a><br><br>

                  <table class="table table-dark table-striped text-light" border="1">
                      <thead class="thead-dark">
                          <tr>
                          <th scope="col">Port</th>
                          <th scope="col">State</th>
                          <th scope="col">name</th>
                          <th scope="col">product</th>
                          <th scope="col">Service</th>
                        </tr>
                      </thead>

                      <tbody>
                      {% for host in resultat %}
                        <tr>
                          <td>{{ host.port }}</td>
                          <td>{{ host.state }}</td>
                          <td>{{ host.name }}</td>
                          <td>{{ host.product }}</td>
                          <td>{{ host.version }}</td>
                        </tr>
                      {% endfor %}
                      </tbody>
                    </table><br><br>


              {% else %}
                    <p style="color: red !important;">Veillez entrer une adresse réseau valide</p>
              {% endif %}
          {% endif %}
<script type="text/javascript" src="html2canvas.js"></script>
  <script>
    function gen_pdf(){
    var doc = new jsPDF('landscape');
    doc.fromHTML($('#row').get(0), 40,40,{
       'width' :1200 });

     
      doc.save('scan.pdf');
      }
    </script>


    {% endblock %}  


